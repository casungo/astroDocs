---
title: Layout
description: Un'introduzione ai layout in Astro.
i18nReady: true
---

import ReadMore from '~/components/ReadMore.astro'

I **Layout** sono [componenti Astro](/it/basics/astro-components/) utilizzati per fornire una struttura UI riutilizzabile, come un template di pagina.

Usiamo convenzionalmente il termine "layout" per i componenti Astro che forniscono elementi UI comuni condivisi tra le pagine come intestazioni, barre di navigazione e piè di pagina. Un tipico componente di layout Astro fornisce a [pagine Astro, Markdown o MDX](/it/basics/astro-pages/) con:
- una **shell di pagina** (tag `<html>`, `<head>` e `<body>`)
- uno [**`<slot />`**](/it/basics/astro-components/#slot) per specificare dove deve essere inserito il contenuto della singola pagina.

 Ma, non c'è niente di speciale in un componente di layout! Possono [accettare props](/it/basics/astro-components/#proprietà-dei-componenti) e [importare e utilizzare altri componenti](/it/basics/astro-components/#struttura-dei-componenti) come qualsiasi altro componente Astro. Possono includere [componenti di framework UI](/it/guides/framework-components/) e [script lato client](/it/guides/client-side-scripts/). Non devono nemmeno fornire una shell di pagina intera, e possono invece essere utilizzati come template UI parziali.

Tuttavia, se un componente di layout contiene una shell di pagina, il suo elemento `<html>` deve essere il genitore di tutti gli altri elementi nel componente.

I componenti di layout sono comunemente posizionati in una directory `src/layouts` nel tuo progetto per organizzazione, ma questo non è un requisito; puoi scegliere di posizionarli ovunque nel tuo progetto. Puoi anche collocare i componenti di layout accanto alle tue pagine [prefissando i nomi dei layout con `_`](/it/guides/routing/#pagine-escluse).

## Layout di esempio

```astro "<slot />" 
---
// src/layouts/MySiteLayout.astro
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
const { title } = Astro.props;
---
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <BaseHead title={title}/>
  </head>
  <body>
    <nav>
      <a href="#">Home</a>
      <a href="#">Articoli</a>
      <a href="#">Contatti</a>
    </nav>
    <h1>{title}</h1>
    <article>
      <slot /> <!-- il tuo contenuto viene inserito qui -->
    </article>
    <Footer />
  </body>
  <style>
    h1 {
      font-size: 2rem;
    }
  </style>
</html>
```

```astro title="src/pages/index.astro"
---
import MySiteLayout from '../layouts/MySiteLayout.astro';
---
<MySiteLayout title="Pagina Iniziale">
  <p>Contenuto della mia pagina, racchiuso in un layout!</p>
</MySiteLayout>
```

<ReadMore>Scopri di più sugli [slot](/it/basics/astro-components/#slot).</ReadMore>

## Usare TypeScript con i layout

Qualsiasi layout Astro può essere modificato per introdurre la sicurezza dei tipi e l'autocompletamento fornendo i tipi per le tue props:

```astro ins={2-7} title="src/components/MyLayout.astro"
---
interface Props { 
  title: string;
  description: string;
  publishDate: string;
  viewCount: number;
}
const { title, description, publishDate, viewCount } = Astro.props;
---
<html lang="it">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content={description}>
    <title>{title}</title>
  </head>
  <body>
    <header>
      <p>Pubblicato il {publishDate}</p>
      <p>Visto da {viewCount} persone</p>
    </header>
    <main>
      <slot />
    </main>
  </body>
</html>
```

## Layout Markdown

I layout di pagina sono particolarmente utili per singole pagine Markdown che altrimenti non avrebbero alcuna formattazione di pagina.

Astro fornisce una speciale proprietà frontmatter `layout` destinata ai [singoli file `.md` situati all'interno di `src/pages/` che utilizzano il routing basato su file](/it/guides/markdown-content/#individual-markdown-pages) per specificare quale componente `.astro` utilizzare come layout di pagina. Questo componente ti permette di fornire contenuto `<head>` come meta tag (es. `<meta charset="utf-8">`) e stili per la pagina Markdown. Per impostazione predefinita, questo componente specificato può accedere automaticamente ai dati dal file Markdown.

Questo non è riconosciuto come una proprietà speciale quando si utilizzano le [raccolte di contenuti](/it/guides/content-collections/) per interrogare e renderizzare il contenuto.

```markdown title="src/pages/page.md" {2} 
---
layout: ../layouts/BlogPostLayout.astro
title: "Ciao, Mondo!"
author: "Mario Rossi"
date: "09 Ago 2022"
---
Tutte le proprietà del frontmatter sono disponibili come props per un componente di layout Astro.

La proprietà `layout` è l'unica speciale fornita da Astro.

Puoi usarla nei file Markdown situati all'interno di `src/pages/`.

```

Un layout tipico per una pagina Markdown include:

1. La prop `frontmatter` per accedere al frontmatter della pagina Markdown e ad altri dati.
2. Uno [`<slot />`](/it/basics/astro-components/#slot) predefinito per indicare dove deve essere renderizzato il contenuto Markdown della pagina.

```astro title="src/layouts/BlogPostLayout.astro" /(?<!//.*){?frontmatter(?:\\.\w+)?}?/ "<slot />"
---
// 1. La prop frontmatter dà accesso a frontmatter e ad altri dati
const { frontmatter } = Astro.props;
---
<html>
  <head>
    <!-- Aggiungi qui altri elementi Head, come stili e meta tag. -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <!-- Aggiungi qui altri componenti UI, come intestazioni e piè di pagina comuni. -->
    <h1>{frontmatter.title} di {frontmatter.author}</h1>
    <!-- 2. L'HTML renderizzato verrà passato nello slot predefinito. -->
    <slot />
    <p>Scritto il: {frontmatter.date}</p>
  </body>
</html>
```

Puoi impostare il [tipo `Props`](/it/guides/typescript/#component-props) di un layout con l'helper `MarkdownLayoutProps`:

```astro title="src/layouts/BlogPostLayout.astro" ins={2,4-9}
---
import type { MarkdownLayoutProps } from 'astro';

type Props = MarkdownLayoutProps<{
  // Definisci qui le props del frontmatter
  title: string;
  author: string;
  date: string;
}>;

// Ora, `frontmatter`, `url`, e altre proprietà del layout Markdown
// sono accessibili con la sicurezza dei tipi
const { frontmatter, url } = Astro.props;
---
<html>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href={new URL(url, Astro.site).pathname}>
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <h1>{frontmatter.title} di {frontmatter.author}</h1>
    <slot />
    <p>Scritto il: {frontmatter.date}</p>
  </body>
</html>
```

### Props del layout Markdown

Un layout Markdown avrà accesso alle seguenti informazioni tramite `Astro.props`:

- **`file`** - Il percorso assoluto di questo file (es. `/home/user/projects/.../file.md`).
- **`url`** - L'URL della pagina (es. `/it/guides/markdown-content`).
- **`frontmatter`** - Tutto il frontmatter dal documento Markdown o MDX.
  - **`frontmatter.file`** - Come la proprietà `file` di primo livello.
  - **`frontmatter.url`** - Come la proprietà `url` di primo livello.
- **`headings`** - Un elenco di intestazioni (`h1 -> h6`) nel documento Markdown o MDX con metadati associati. Questo elenco segue il tipo: `{ depth: number; slug: string; text: string }[]`.
- **`rawContent()`** - Una funzione che restituisce il documento Markdown grezzo come stringa.
- **`compiledContent()`** - Una funzione asincrona che restituisce il documento Markdown compilato in una stringa HTML.

:::note
Un layout Markdown avrà accesso a tutte le [proprietà disponibili](/it/guides/markdown-content/#available-properties) del file Markdown da `Astro.props` **con due differenze chiave:**

*   Le informazioni sulle intestazioni (cioè gli elementi `h1 -> h6`) sono disponibili tramite l'array `headings`, piuttosto che una funzione `getHeadings()`.

*   `file` e `url` sono *anche* disponibili come proprietà `frontmatter` annidate (cioè `frontmatter.url` e `frontmatter.file`).

:::

### Importare layout manualmente (MDX)

Puoi anche usare la speciale proprietà di layout Markdown nel frontmatter dei file MDX per passare le props `frontmatter` e `headings` direttamente a un componente di layout specificato allo stesso modo.

Per passare informazioni al tuo layout MDX che non esistono (o non possono esistere) nel tuo frontmatter, puoi invece importare e usare un componente `<Layout />`. Questo funziona come qualsiasi altro componente Astro, e non riceverà alcuna props automaticamente. Passagli direttamente qualsiasi props necessaria:

```mdx title="src/pages/posts/first-post.mdx" ins={6} del={2} /</?BaseLayout>/ /</?BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>/
---
layout: ../../layouts/BaseLayout.astro
title: 'Il mio primo post MDX'
publishDate: '21 Settembre 2022'
---
import BaseLayout from '../../layouts/BaseLayout.astro';

export function fancyJsHelper() {
  return "Prova a farlo con YAML!";
}

<BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>
  Benvenuto nel mio nuovo blog Astro, usando MDX!
</BaseLayout>
```

Quindi, i tuoi valori sono disponibili tramite `Astro.props` nel tuo layout, e il tuo contenuto MDX verrà iniettato nella pagina dove è scritto il tuo componente `<slot />`:

```astro title="src/layouts/BaseLayout.astro" /{?title}?/ "fancyJsHelper" "{fancyJsHelper()}"
---
const { title, fancyJsHelper } = Astro.props;
---
<html>
  <head>
    <!-- -->
    <meta charset="utf-8">
  </head>
  <body>
    <!-- -->
    <h1>{title}</h1>
    <slot /> <!-- il tuo contenuto viene inserito qui -->
    <p>{fancyJsHelper()}</p>
    <!-- -->
  </body>
</html>
```

Quando si utilizza qualsiasi layout (sia tramite la proprietà `layout` del frontmatter che importando un layout), è necessario includere il tag `<meta charset="utf-8">` nel layout poiché Astro non lo aggiungerà più automaticamente alla pagina MDX.

<ReadMore>Scopri di più sul supporto Markdown e MDX di Astro nella nostra [guida Markdown](/it/guides/markdown-content/).</ReadMore>

## Layout Annidati

I componenti di layout non necessitano di contenere un'intera pagina HTML. Puoi suddividere i tuoi layout in componenti più piccoli, e combinare componenti di layout per creare template di pagina ancora più flessibili. Questo pattern è utile quando vuoi condividere del codice tra più layout.

Ad esempio, un componente di layout `BlogPostLayout.astro` potrebbe stilizzare il titolo, la data e l'autore di un post. Quindi, un `BaseLayout.astro` a livello di sito potrebbe gestire il resto del tuo template di pagina, come navigazione, piè di pagina, meta tag SEO, stili globali e font. Puoi anche passare props ricevute dal tuo post a un altro layout, proprio come qualsiasi altro componente annidato.

```astro {3} /</?BaseLayout>/ /</?BaseLayout url={frontmatter.url}>/
---
// src/layouts/BlogPostLayout.astro
import BaseLayout from './BaseLayout.astro';
const { frontmatter } = Astro.props;
---
<BaseLayout url={frontmatter.url}>
  <h1>{frontmatter.title}</h1>
  <h2>Autore del post: {frontmatter.author}</h2>
  <slot />
</BaseLayout>
```
